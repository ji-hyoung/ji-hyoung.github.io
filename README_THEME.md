Theme variables and how to edit them

Purpose

This file documents the CSS theme variables used in this project and explains how to change the main point color and other theme values for light/dark modes.

Files touched

- `css/utilities.css` — main source of variables and theme overrides (`:root` and `[data-theme="light"]`).
- `css/components.css` — components updated to use the variables (hero, modal, swiper controls, gallery, etc.).
- `css/layout.css` — header/footer/decoration values replaced with variables.
- `js/particleEngine.js` — reads `--trail-dark` / `--trail-light` variables via `getComputedStyle` for canvas effects.

Key variables (where to change primary color)

- --grad4 / --primary — the main point color. Currently mapped in `:root` and overridden for light theme in `utilities.css`.
  - To change the main point color for both themes, update `--grad4` in `:root`.
  - To change the light-mode primary color specifically, update `--grad4` or `--primary` inside the `[data-theme="light"]` block.

Example: set primary to #00d4ff (already applied)

:root {
  --grad4: #00d4ff;
  --primary: var(--grad4);
}

[data-theme="light"] {
  --grad4: #00d4ff;
  --primary: #00d4ff;
}

Semantic variables to know

- --color-bg / --color-surface / --color-text / --color-muted — high-level color mapping used across components.
- --overlay-strong / --overlay-medium / --overlay-light — overlay colors used for modals, controls and subtle backgrounds.
- --card-bg / --panel-bg — card and panel backgrounds.
- --hero-glow-* / --hero-before-* — hero text glow layers.
- --shadow-* — shadow presets (strings including rgba values).
- --trail-dark / --trail-light — used by `js/particleEngine.js` for drawing particle gradients.

How to add or change a color used by many components

1. Add/update a variable in `:root` in `css/utilities.css`.
2. Add a mapping for light theme under `[data-theme="light"]` if the light appearance needs different values.
3. Replace direct color uses in component CSS with the new variable (e.g., replace `color: #fff;` with `color: var(--color-text);`).
4. For JS-driven visuals (canvas), read the CSS variable with `getComputedStyle(document.documentElement).getPropertyValue('--your-var')` and use it to create rgba/gradient values.

Testing the changes

- In the browser console:

  document.body.dataset.theme = 'light'
  document.body.dataset.theme = 'dark'

- Check hero title color, modal overlay, header and footer to ensure they match the chosen palette.

Notes & next steps

- Some vendor/backup files (e.g., `css/temp.css.bak` or vendor `js/swiper/swiper.css`) still include direct colors. We add light/dark overrides in `utilities.css` instead of editing vendor files to minimize risk.
- Accessibility: run a contrast check (e.g., Axe or online contrast checker) for important text after choosing colors.

If you want, I can:
- Finish converting any remaining CSS files (including backups) or selectively override vendor files.
- Run a pass to adjust contrast for accessibility.
- Create a small UI in the page to preview and change `--primary` live and persist it in localStorage.
 
Quick contrast check (browser)

1. Open the site in the browser.
2. In DevTools console, include the check script (or open `js/themeContrastCheck.js` and paste it into the console).
3. Run:

  ThemeContrastCheck.run();

It will log contrast ratios for core selectors and mark PASS if ratio >= 4.5 (WCAG AA for normal text).

---
Generated by automated refactor tool for this repo. Adjust and commit as desired.
